# REP-0003 — Финальный аудит PUBLIC‑пакета и механизма публикации

Дата: 2026-01-04

> **Исторический документ**
>
> Этот отчёт отражает состояние на 2026-01-04 (старая модель публикации).
> Ссылки на GOV-0004, GOV-0005, DEC-0009 указывают на документы, которые
> с 2026-01-14 являются tombstone-файлами.
>
> Актуальная модель: `docs/publication/GOV-0006`, `docs/publication/OPS-0001`.

## Зачем этот отчёт

Перед первой публикацией в публичный GitHub важно убедиться в двух вещах:

1) **PUBLIC‑дерево действительно “очищено”**: в нём нет служебных материалов, внутренних ссылок на процесс разработки и любых формулировок, которые могут выдать внутреннюю кухню проекта.
2) **Механизм публикации воспроизводим**: один и тот же исходный `public/` даёт одинаковый экспорт, а проверка не зависит от ручных догадок.

Этот отчёт фиксирует результаты проверки и даёт минимальный воспроизводимый “runbook” для публикации.

## Что проверялось

### 1) Состав PUBLIC
- Источник публичного дерева: `public/`
- Манифест экспорта: `tools/publish/public_manifest.json`
- Инструмент экспорта: `tools/publish/export_public.py`
- Инструмент аудита: `tools/publish/audit_public.py`
- Нормативные правила по PUBLIC: `docs/governance/GOV-0004-public-repository-scope-and-audit.md`
- Операционный стандарт: `docs/governance/GOV-0005-public-repo-operations.md`
- Принятое решение по механизму зеркала: `docs/decisions/DEC-0009-public-mirror-mechanism.md`

### 2) Контент‑аудит публичных документов
Проверялись файлы в `public/` (README, документация по архитектуре, лицензии) на:
- отсутствие ссылок на внутренние планы/шаги/гейты/реестры;
- отсутствие “служебных” терминов и внутренних идентификаторов (RUN/ART/RISK/GOV/ADR/DEC);
- отсутствие запрещённых упоминаний о способе подготовки материалов;
- человекочитаемость (инженерный стиль без «санитизированного протокола»).

## Как воспроизвести проверку (локально)

1) Подготовить отдельную рабочую копию публичного репозитория (отдельный каталог с собственным `.git/`).

2) Из корня PRIVATE‑репозитория выполнить экспорт по манифесту:

```bash
python tools/publish/export_public.py --dest <путь_к_PUBLIC_репозиторию> --clean
```

3) Выполнить аудит экспортированного дерева:

```bash
python tools/publish/audit_public.py --root <путь_к_PUBLIC_репозиторию>
```

4) Если аудит PASS — вручную просмотреть:
- `README.md`;
- все изменённые `.md`/`.yml` и другие текстовые файлы;
- список файлов `git diff --name-only`.

## Результат

### Экспорт
- Экспорт по `public_manifest.json` формирует **ровно**:
 - содержимое каталога `public/` в корень публичного репозитория;
 - файл `LICENSE` в корень публичного репозитория.
- Служебные каталоги и датасеты в PUBLIC не попадают.

### Аудит
- `audit_public.py` — **PASS** (запрещённых файлов/паттернов не найдено).

### Ручной обзор (человекочитаемость)
- Публичные документы читаются как обычная инженерная документация:
 - есть понятная навигация;
 - решения и требования описаны “зачем/почему/что проверяем”, без внутренних ссылок на процесс;
 - терминология стабильна, без избыточной нотации и внутренних кодов.

## Примечания и риски

- Риски утечки процессных следов и “плохой воспринимаемости” публичных документов считаются **контролируемыми** за счёт:
 - отдельного публичного дерева `public/`;
 - экспорта по белому списку;
 - обязательного аудита перед каждым публичным коммитом;
 - ручного просмотра изменённых публичных файлов.

Эти риски не исчезают навсегда: они должны проверяться при каждой новой публикации.

## Следующее действие

1) Выполнить публикацию текущего public‑состояния в GitHub (экспорт → аудит → коммит/PR).
2) После публикации перейти к следующему шагу реализации (C++‑скелет и инфраструктура сборки/тестов).

## Фиксация версии
Для передачи состояния в Projects сформирован ZIP‑снимок репозитория:
- `ambrella-chainsaw-cpp_step_D_E_subtask_7.zip`
- SHA‑256: `c3f4d0327304fcc3579fc65178c7ccc38e19ed2b58606253dd5616da139317d7`
