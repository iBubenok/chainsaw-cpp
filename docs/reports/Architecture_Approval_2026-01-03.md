# Протокол согласования архитектуры (To‑Be) — 2026-01-03

## Контекст
- Основание: (`GOV-0003` — пакет согласования архитектуры), подготовка к (после ).
- Объект согласования: To‑Be документы –22 + результаты (`REP-0002`).

## Участники
- Роль:
 - Архитектурный ревью: (фиксируется в истории репозитория; в данном протоколе имена не перечисляются)

## Перечень рассмотренных артефактов
- `TASK-0001` — `docs/requirements/TASK-0001-problem-statement.md`
- `AR-0001` — `docs/requirements/AR-0001-architectural-requirements.md`
- `ARCH-0002` — `docs/architecture/ARCH-0002-cpp-technology-options-matrix.md`
- `ADR-0001...ADR-0011` — `docs/adr/*` +
- `TOBE-0001` — `docs/architecture/TOBE-0001-cpp-to-be-architecture.md`
- `WBS-0001` — `docs/planning/WBS-0001-work-breakdown-and-estimates.md`
- `GUIDE-0001` — `docs/guide/GUIDE-0001-developer-guide.md`
- Governance:
 - `GOV-0001` — `docs/governance/GOV-0001-traceability-and-sot.md`
 - `GOV-0002` — `docs/governance/GOV-0002-equivalence-criteria.md`
 - `GOV-0003` — `docs/governance/GOV-0003-architecture-approval-package.md`
- Управление:
 -
 -
 -
 -
- Результаты:
 - `REP-0002` — `docs/reports/REP-0002-consistency-audit-1.md`

## Результаты чек‑листа (сводно)
Чек‑лист выполнен по `GOV-0003/1`.

### Секция 1.1 — Комплектность (пункты 1–9)
- PASS: все перечисленные файлы существуют и используются как SoT для своих классов информации.

### Секция 1.2 — Проверяемость (пункты 10–14)
- PASS:
 - критерии 1:1 формализованы в `GOV-0002`;
 - каждое `REQ-*` в `AR-0001` содержит критерии приёмки и способ верификации;
 - test‑to‑test база (`TESTMAT-0001`) и golden runs (`REP-0001` + артефакты Projects) существуют и интегрированы в трассируемость.

### Секция 1.3 — To‑Be архитектура (пункты 15–18)
- PASS: `TOBE-0001` определяет `MOD-*` и потоки по ключевым CLI поверхностям; платформенная специфика изолируется; детерминизм учтён как инвариант (см. `ADR-0011`).

### Секция 1.4 — ADR baseline (пункты 19–21)
- PASS-with-notes:
 - все ADR индексированы в;
 - `ADR-0009` принят как стратегия, но содержит pending‑решения по конкретным парсерам (EVTX/HVE/MFT/XML) — эти pending не блокируют при соблюдении To‑Be границ (реализация через абстракции), но должны быть закрыты до портирования соответствующих фич (–33).

### Секция 1.5 — Риски/безопасность (пункты 22–25)
- PASS-with-risks:
 - P1/P2 риски присутствуют, имеют планы закрытия и не скрыты;
 - нет P1‑рисков без плана закрытия.

### Секция 1.6 — Комплаенс/лицензии/данные (пункты 26–29)
- PASS-with-risks:
 - политика third‑party задана (`POL-0001`), реестр лицензий зависимостей присутствует (`LIC-0002`), но часть статусов будет «Verified» только при фактическом vendoring;
 - политика тестовых данных будет финализирована на (`RISK-0003`).

## Решение
- PASS
- [x] PASS-with-risks
- FAIL

## Принятые риски / исключения (для старта )
Следующие риски допускаются к переносу в фазу E и **не блокируют** старт, но требуют контроля в указанных шагах:
- `RISK-0003` — политика тестовых данных (обязателен )
- `RISK-0006` — синхронизация sigma/EVTX datasets
- `RISK-0011` — детерминизм/платформенные различия (/33)
- `RISK-0030` — 1:1 парсеры форензик‑форматов (–33)
- `RISK-0031` — byte‑to‑byte help/errors CLI (/31–33)
- `RISK-0032` — кроссплатформенная сборка C‑зависимостей (–26)

## Action items
| № | Описание | Дедлайн (шаг) | Связанные ID |
|---:|---|---|---|
| 1 | Стартовать: минимально собираемый C++‑скелет + CLI поверхность | | `REQ-FR-0001`, `ADR-0001`, `ADR-0006`, `MOD-0001..MOD-0003` |
| 2 | Подготовить основу quality gates (форматирование/предупреждения/санитайзеры) | | `REQ-OPS-0024`, `REQ-SEC-0017` |
| 3 | Зафиксировать политику тестовых данных и минимальный набор фикстур | | `RISK-0003`, `REQ-OPS-0027..0030` |

## Приложения
- Gate‑отчёт: `docs/reports/Gate_D_E_2026-01-03.md`
