# GATE-0003 — Review (после )

**Дата:** 2026-01-03

## Решение
**PASS-with-risks**

Порог готовности из выполнен: пакет To‑Be документов (–22) согласован по Single Source of Truth, устранены противоречия по результатам, требования `REQ-*` имеют критерии приёмки и способы верификации, набор ADR управляем (есть явные accepted решения и прозрачные pending внутри `ADR-0009`), реестр рисков актуален.

Переход в фазу реализации (–28) допускается при условии сохранения дисциплины 1:1 (см. `GOV-0002`) и обязательного закрытия рисков, перечисленных ниже, в запланированных шагах (в первую очередь –28).

---

## G1 Доказательства (evidence)
Ключевые источники To‑Be фазы D (и результаты их проверки консистентности) присутствуют в репозитории и используются как Single Source of Truth:

1) **Постановка задачи (границы/приёмка/сценарии):**
 - `docs/requirements/TASK-0001-problem-statement.md`

2) **Архитектурные требования `REQ-*` с критериями приёмки и верификацией:**
 - `docs/requirements/AR-0001-architectural-requirements.md`

3) **Матрица вариантов технологий/зависимостей C++ (без «выбора по привычке»):**
 - `docs/architecture/ARCH-0002-cpp-technology-options-matrix.md`

4) **ADR baseline (принятые решения + прозрачные pending):**
 - `docs/adr/ADR-0001...ADR-0011`..
 - индекс:

5) **To‑Be архитектура (границы `MOD-*`, потоки, As‑Is→To‑Be):**
 - `docs/architecture/TOBE-0001-cpp-to-be-architecture.md`

6) **WBS и оценка с трассировкой работ:**
 - `docs/planning/WBS-0001-work-breakdown-and-estimates.md`

7) **Практическое руководство разработчика (проверяемые инженерные нормы):**
 - `docs/guide/GUIDE-0001-developer-guide.md`

8) **Пакет согласования архитектуры (чек‑лист/критерии готовности к реализации):**
 - `docs/governance/GOV-0003-architecture-approval-package.md`

9) **Отчёт аудита консистентности документов №1 с исправлениями:**
 - `docs/reports/REP-0002-consistency-audit-1.md`

10) **Управляющие реестры:**
 -,,,,.

Вывод по G1: источники To‑Be и governance‑артефакты присутствуют и связаны; есть отдельный отчёт, доказывающий устранение несогласованностей.

---

## G2 Проверяемость (verifiability)

1) **Определение “1:1 совпало” формализовано и является SoT:**
 - `docs/governance/GOV-0002-equivalence-criteria.md`.

2) **Каждое требование `REQ-*` в `AR-0001` имеет измеримый критерий приёмки и способ проверки.**
 Практика верификации в документе задана тремя уровнями доказательств:
 - test‑to‑test по `TST-*` (SoT: `docs/tests/TESTMAT-0001-rust-test-matrix.md`,;
 - golden runs `RUN-*` (SoT: `docs/reports/REP-0001-rust-golden-runs.md`,;
 - diff‑harness (план и затем ).

3) **Минимальная матрица трассируемости связывает требования с модулями и проверками:**
 - (раздел 2) даёт цепочки `REQ-* → ADR-* → MOD-* → TST/RUN`.

Вывод по G2: To‑Be пакет допускает автоматизируемую приёмку через тесты и дифф‑сравнение; критерии проверки документированы и привязаны к источникам.

---

## G3 Трассируемость (traceability examples)
Ниже — примеры замкнутых цепочек “требование → решение → модуль → проверка → доказательство” (минимум, достаточный для старта реализации):

1) **`search` (EVTX) end‑to‑end**
 - Требование: `REQ-FR-0002` (`AR-0001`)
 - Решения: `ADR-0005` (regex), `ADR-0006` (CLI/вывод), `ADR-0011` (детерминизм)
 - Модули: `MOD-0011`, `MOD-0006`, `MOD-0007`, `MOD-0003` (`TOBE-0001`)
 - Проверки: `TST-0001..TST-0003`, `..`
 - Доказательства: `TESTMAT-0001` (expected outputs) + `REP-0001` (golden runs)

2) **`hunt` (детект по rules) + FS‑эффекты**
 - Требование: `REQ-FR-0003` + `REQ-NFR-0010`
 - Решения: `ADR-0011` (параллелизм/детерминизм), `ADR-0006` (CLI/вывод)
 - Модули: `MOD-0012`, `MOD-0008`, `MOD-0009`, `MOD-0003`
 - Проверки: `TST-0004`, `..`
 - Доказательства: `TESTMAT-0001`, `REP-0001`; риски по FS‑эффектам: `RISK-0014`

3) **`analyse srum` (ESEDB) — проверяемая вертикаль**
 - Требование: `REQ-FR-0006`
 - Решения: `ADR-0009` (ESEDB=libesedb), `ADR-0010` (пути/кодировки)
 - Модули: `MOD-0014`, `MOD-0007`, `MOD-0003`
 - Проверки: `TST-0005..TST-0006`, `..`
 - Доказательства: `TESTMAT-0001`, `REP-0001`

Вывод по G3: трассируемость замкнута как минимум для ключевых CLI поверхностей; спорные зоны (shimcache, XML) явно отмечены как “нет покрытия” и оформлены рисками.

---

## G4 Консистентность (SoT и управляемость)

1) **Single Source of Truth закреплён документом `GOV-0001` и соблюдён в пакете To‑Be:**
 - требования формулируются только в `AR-0001`;
 - решения — в `ADR-*`/`DEC-*` и индексируются в;
 - архитектура модулей — в `TOBE-0001`;
 - доказательства — в `TESTMAT-0001`/`REP-0001` и будущих `REP-*` дифф‑отчётах.

2) **Аудит консистентности выполнен и показал PASS:**
 - `REP-0002` фиксирует найденные несогласованности (F-01..F-04) и их исправления.

3) **Управляемость pending‑решений:**
 - `ADR-0009` принят как стратегия, а формат‑специфичные решения оставлены pending с измеримыми критериями выбора и источниками данных.

Вывод по G4: пакет To‑Be пригоден как основа для начала реализации без скрытых допущений.

---

## Риски на переход (допускаются в фазу E)

**P1 (критично):**
- `RISK-0003` — политика тестовых данных
- `RISK-0006` — синхронизация sigma/EVTX datasets
- `RISK-0008` — GPLv3 режим распространения/встраивания (/43)
- `RISK-0011` — детерминизм и платформенные различия вывода (/33)
- `RISK-0030` — стек парсеров форензик‑форматов 1:1 (–33)
- `RISK-0031` — byte‑to‑byte help/errors CLI (/31–33)

**P2 (важно):**
- `RISK-0014` — `--cache-to-disk` FS‑эффекты (/33)
- `RISK-0028` — `--no-banner` в Windows эталонах
- `RISK-0029` — неполная воспроизводимость Windows эталонов
- `RISK-0032` — кроссплатформенная сборка C‑зависимостей (–26)

**P3 (желательно):**
- `RISK-0026` — отсутствие покрытия XML веток golden runs (–33)

