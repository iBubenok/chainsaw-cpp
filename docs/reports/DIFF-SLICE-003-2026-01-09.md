# DIFF-SLICE-003: CLI Parser Golden Runs Comparison

## Metadata
- **Slice:** SLICE-003 (CLI Parser & Help/Version)
- **Date:** 2026-01-09
- **Harness:** `tools/harness/compare_behavior.py`
- **Golden Dir:** `golden/rust_golden_runs_linux_x86_64/`

---

## Summary

| Scenario | Description | Status |
|----------|-------------|--------|
| | `chainsaw --help` | PASS |
| | `chainsaw --version` | PASS |
| | `chainsaw` (no args) | PASS |
| | Unknown subcommand | PASS |
| | `lint --help` | PASS |
| | `lint --kind stalker` | PASS |

**Result: 6/6 PASS (100%)**

---

## Detailed Comparison

###: `chainsaw --help`

| Aspect | Golden | C++ Port | Match |
|--------|--------|----------|-------|
| stdout | Help text | Help text | byte-to-byte |
| stderr | empty | empty | match |
| exit_code | 0 | 0 | match |

###: `chainsaw --version`

| Aspect | Golden | C++ Port | Match |
|--------|--------|----------|-------|
| stdout | `chainsaw 2.13.1\n` | `chainsaw 2.13.1\n` | byte-to-byte |
| stderr | empty | empty | match |
| exit_code | 0 | 0 | match |

###: `chainsaw` (no args)

| Aspect | Golden | C++ Port | Match |
|--------|--------|----------|-------|
| stdout | empty | empty | match |
| stderr | Help text | Help text | byte-to-byte |
| exit_code | 2 | 2 | match |

###: Unknown subcommand `no_such_cmd`

| Aspect | Golden | C++ Port | Match |
|--------|--------|----------|-------|
| stdout | empty | empty | match |
| stderr | error: unrecognized subcommand 'no_such_cmd'... | error: unrecognized subcommand 'no_such_cmd'... | byte-to-byte |
| exit_code | 2 | 2 | match |

###: `lint --help`

| Aspect | Golden | C++ Port | Match |
|--------|--------|----------|-------|
| stdout | lint help text | lint help text | byte-to-byte |
| stderr | empty | empty | match |
| exit_code | 0 | 0 | match |

###: `lint --kind stalker`

| Aspect | Golden | C++ Port | Match |
|--------|--------|----------|-------|
| stdout | empty | empty | match |
| stderr | error: invalid value 'stalker'... | error: invalid value 'stalker'... | byte-to-byte |
| exit_code | 2 | 2 | match |

---

## Notes

1. **** (dump without path) is NOT part of SLICE-003 UnitDone criteria.
 It tests runtime behavior of dump command, not CLI parsing.

2. **Banner behavior**: Fixed during verification. `--help` output should NOT include
 ASCII banner (verified against golden runs).

3. **Version string**: Using `chainsaw 2.13.1` to match golden runs exactly per GOV-0002.

---

## Files Modified

- `cpp/src/app/main.cpp`: Removed banner output for HelpCommand to match golden behavior

---

## Conclusion

All 6 UnitDone criteria for SLICE-003 are satisfied. The C++ CLI parser behavior
is byte-to-byte equivalent to the Rust golden runs for all mandatory scenarios.
